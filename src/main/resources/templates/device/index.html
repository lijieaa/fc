<!DOCTYPE html>
<html>
<div th:replace="import::hdr"></div>
<body class="hold-transition skin-blue sidebar-mini">
<div th:replace="import::bdy-befor">
</div>
<div class="wrapper" id="myDevice">
  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        设备管理
      </h1>
      <section class="content-header change-content">
        <span class="font-size-18">设备列表</span>
        <div class="row">
          <div class="col-md-10 col-sm-10  col-xs-12">
            <div class="form-group float-left">
              <select name="" id="" class="sel-option height-34">
                <option value="1">生产编号</option>
                <option value="2">所属项目</option>
              </select>
            </div>
            <div class="input-group">

            <span class="input-group-addon ">
               <i class="fa fa-search"></i>
            </span>
              <input type="text" class="form-control">
              <button type="button" class="btn btn-block btn-info search">搜索</button>
            </div>
          </div>
          <div class="col-md-2 col-sm-2  col-xs-12">
            <!--<button type="button" class="btn btn-block btn-info">添加设备</button>-->
            <button type="button" class="btn btn-info btn-block"
                    data-toggle="modal" data-target="#modal-info" @click="addDevice">
              添加设备
            </button>
          </div>
        </div>
      </section>
      <section class="content-list display-none">
        <div class="row">
          <div class="col-md-12">
            <table id="deviceForm" class="display table table-bordered table-hover dataTable" style="width:100%">
              <thead>
              <tr>
                <th>生产编号</th>
                <th>型号</th>
                <th>所属项目</th>
                <th>操作员</th>
                <th>抄表员</th>
                <th>状态</th>
                <th>指定中间商</th>
                <th>功能</th>
              </tr>
              </thead>
            </table>
          </div>
        </div>
      </section>
      <div class="modal fade" id="modal-default">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">×</span></button>
              <h4 class="modal-title">Default Modal</h4>
            </div>
            <div class="modal-body">
              <p>One fine body…</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
          <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
      </div>
      <!-- /.content -->
  </div>

  <div class="overlay">
    <i class="fa fa-refresh fa-spin"></i>
  </div>
</div>

<div th:replace="import::scipt"></div>
<script th:inline="javascript">

</script>
<script type="text/javascript">
    $(document).ready(function() {
        new Vue({
            el:"#myDevice",
            data:{},
            methods:{
                addDevice:function(){
                    $("#modal-default").addClass("in")
                }
            }
        });
        $('#deviceForm').DataTable( {
            "ajax": "../dist/data/device.json",
            "info":false,
            "searching": false,
            "lengthChange": false,
            "ordering": false,
            // "pagingType": "full_numbers",
            "language": {
                "paginate": {
                    "next": "下一页",
                    "previous": "上一页"
                }
            },
            "columns": [
                { "data": "name" },
                { "data": "position" },
                { "data": "office" },
                { "data": "Extn" },
                { "data": "Start" },
                { "data": "status" },
                { "data": "Salary" },
                { "data": "", "render": function(data, type, row, meta){
                        var html = "<button type='button' class='Normal margin-right-4 btn btn-primary'>编辑</button>" +
                            "<button type='button' class='Normal margin-right-4 btn btn-primary'>删除</button>" +
                            "<button type='button' class='Normal margin-right-4 btn btn-primary'>控制</button>" +
                            "<button type='button' class='Normal margin-right-4 btn btn-primary'>日志</button>";
                        return html;
                    }}

            ],
            "pageLength": 50,
            "stateLoadParams": function (settings, data) {
                alert(1);
            }
        } );
        $("#deviceForm").on( 'init.dt', function ( e, settings ) {
            //在此给变量赋值
            // console.log(1);
            $(".content-list").removeClass("display-none")
        });
        $("#deviceForm").on( 'draw', function () {
            alert( 'Table redrawn' );
        } );


    } );
</script>
</body>
</html>
